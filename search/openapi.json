{
	"components": {
		"schemas": {
			"SearchResult": {
				"properties": {
					"estimatedTotalHits": { "format": "int32", "type": "integer" },
					"facetDistribution": {},
					"facetStats": {
						"additionalProperties": {
							"$ref": "#/components/schemas/FacetRating"
						},
						"type": "object"
					},
					"hits": {
						"items": { "additionalProperties": {}, "type": "object" },
						"type": "array"
					},
					"limit": { "format": "int32", "type": "integer" },
					"offset": { "format": "int32", "type": "integer" },
					"processingTimeMs": { "format": "int32", "type": "integer" },
					"query": { "type": "string" }
				},
				"type": "object"
			}
		}
	},
	"info": { "title": "OpenAPI definition", "version": "v0" },
	"openapi": "3.1.0",
	"paths": {
		"/api/search/{usercode}": {
			"get": {
				"operationId": "search",
				"parameters": [
					{
						"in": "path",
						"name": "usercode",
						"required": true,
						"schema": { "format": "uuid", "type": "string" }
					},
					{
						"in": "query",
						"name": "query",
						"required": true,
						"schema": { "minLength": 1, "type": "string" }
					}
				],
				"responses": {
					"200": {
						"content": {
							"application/json": {
								"schema": { "$ref": "#/components/schemas/SearchResult" }
							}
						},
						"description": "searched repository-content"
					},
					"403": {
						"content": { "text/plain": { "schema": { "type": "string" } } },
						"description": "Forbidden - Requested code does not exist"
					}
				},
				"summary": "allows searching the repository's content",
				"tags": ["git-repo-controller"]
			}
		}
	},
	"servers": [
		{ "description": "Generated server url", "url": "http://localhost:8080" }
	]
}
